A long time ago a group of dwarfs was captured by a big dragon. The dragon locked them in to a dark cave.
But the dragon was not that hungry and he loved riddles a lot. So he gave them a task to solve. It they are able
to solve the task they will be free to go. But if they fail the dragon will eat them all.

Each dwarf wears a hat. There are blue and read ones. But the cave is so dark so that no dwarf could see the color of is own hat.
The dwarfs should line up in a row outside of the cave so that all dwarfs with red hats are standing on the one side and the dwarfs
with blue hats are standing on the other side.

The dwarfs are not allowed to talk to each other or tell another dwarf the color of his hat. If they break this rule they will
be eaten by the dragon immediately.

The dwarfs are also not allowed to change position once they stand in the line. So the task fails once a dwarfs stands at the wrong position.

Could you help the dwarfs to solve the task and save their lifes?