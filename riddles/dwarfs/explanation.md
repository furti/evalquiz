The join function is called every time a dwarf leaves the cave.
The dwarf may check how many dwarfs are in the row and the color of each hat in the row.

The function has to return the index at which the dwarf should join the row.